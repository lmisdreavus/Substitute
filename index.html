<!DOCTYPE html>
<html>
  <head>
    <title>Pokemon Search</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <style>
      .suggestions {
        position: absolute;
        cursor: pointer;
      }
      .suggestion-active {
        background-color: DodgerBlue;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Pokemon Search</h1>
      <form onsubmit="event.preventDefault(); performSearch();">
        <input
          id="search"
          type="text"
          onkeyup="showSuggestions(this.value)"
          class="form-control"
          placeholder="Search..."
        />
        <div id="suggestions"></div>
      </form>
      <br />
      <div id="result"></div>
    </div>
    <script>
      // 이 부분에 JavaScript 코드가 들어갑니다.
      var currentFocus;
      function performSearch() {
        var searchTerm = document.getElementById("search").value;
        fetch('all.json')
          .then(response => response.json())
          .then(data => {
            var result = document.getElementById("result");
            while (result.firstChild) result.removeChild(result.firstChild);
            data.forEach(item => {
              if (item.name === searchTerm) {
                var desc = document.createElement("p"); 
                desc.textContent = item["설명"]; 
                result.appendChild(desc); 
                var table = document.createElement("table");
                table.className = 'table';
                for (const property in item) {
                  if (property === "설명") continue; 
                  var row = table.insertRow();
                  var cell1 = row.insertCell(0);
                  var cell2 = row.insertCell(1);
                  cell1.innerHTML = property;
                  cell2.innerHTML = item[property];
                }
                result.appendChild(table);
              }
            });
          });
        closeAllLists();
      }
      // 여기까지
    </script>
  </body>
</html>
